<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HeartChat - 情绪分析</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- iOS 状态栏 -->
    <div class="ios-status-bar">
        <div class="status-left">9:41</div>
        <div class="status-right">
            <i class="fas fa-signal"></i>
            <i class="fas fa-wifi ml-2"></i>
            <i class="fas fa-battery-full ml-2"></i>
        </div>
    </div>

    <!-- 内容区域 -->
    <div class="content-area">
        <div class="flex items-center mb-6">
            <a href="chat.html" class="mr-4">
                <i class="fas fa-chevron-left text-gray-600"></i>
            </a>
            <h1 class="text-xl font-bold">情绪分析</h1>
        </div>

        <!-- 情绪概览卡片 -->
        <div class="emotion-card">
            <h2 class="emotion-title">当前情绪状态</h2>
            <div class="flex justify-between mb-6">
                <div class="text-center">
                    <div class="text-3xl text-yellow-500 mb-1">
                        <i class="fas fa-tired"></i>
                    </div>
                    <div class="text-sm font-medium">疲惫</div>
                    <div class="text-xs text-gray-500">主要情绪</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl text-red-500 mb-1">
                        <i class="fas fa-tachometer-alt"></i>
                    </div>
                    <div class="text-sm font-medium">压力</div>
                    <div class="text-xs text-gray-500">次要情绪</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl text-blue-500 mb-1">
                        <i class="fas fa-frown"></i>
                    </div>
                    <div class="text-sm font-medium">担忧</div>
                    <div class="text-xs text-gray-500">次要情绪</div>
                </div>
            </div>
            
            <h3 class="text-sm font-medium mb-2">情绪强度</h3>
            <div class="emotion-progress">
                <div class="emotion-progress-bar bg-yellow-500" style="width: 75%"></div>
            </div>
            <div class="flex justify-between text-xs text-gray-500 mb-6">
                <span>低</span>
                <span>中</span>
                <span>高</span>
            </div>
            
            <h3 class="text-sm font-medium mb-2">情绪波动</h3>
            <div class="emotion-chart mb-4">
                <canvas id="emotionChart"></canvas>
            </div>
            
            <div class="text-sm text-gray-600">
                <p>根据分析，你当前处于<strong class="text-yellow-600">中度疲惫</strong>状态，伴随<strong class="text-red-600">压力</strong>和<strong class="text-blue-600">担忧</strong>情绪。这种情绪组合通常与工作压力和任务超负荷相关。</p>
            </div>
        </div>

        <!-- 关键词分析 -->
        <div class="emotion-card">
            <h2 class="emotion-title">关键词分析</h2>
            <div class="keyword-cloud mb-4">
                <span class="keyword-tag bg-red-100 text-red-700">压力</span>
                <span class="keyword-tag bg-yellow-100 text-yellow-700">疲惫</span>
                <span class="keyword-tag bg-blue-100 text-blue-700">工作</span>
                <span class="keyword-tag bg-green-100 text-green-700">deadline</span>
                <span class="keyword-tag bg-purple-100 text-purple-700">多任务</span>
                <span class="keyword-tag bg-pink-100 text-pink-700">担忧</span>
                <span class="keyword-tag bg-indigo-100 text-indigo-700">能力</span>
                <span class="keyword-tag bg-gray-100 text-gray-700">时间</span>
            </div>
            
            <div class="text-sm text-gray-600">
                <p>你的对话中频繁提到与工作压力相关的词汇，表明当前的情绪状态主要源于工作环境中的挑战和时间压力。</p>
            </div>
        </div>

        <!-- 情绪维度 -->
        <div class="emotion-card">
            <h2 class="emotion-title">情绪维度</h2>
            <div class="emotion-chart mb-4">
                <canvas id="radarChart"></canvas>
            </div>
            
            <div class="text-sm text-gray-600">
                <p>情绪维度分析显示，你的压力感和疲惫感较高，而积极性和满足感较低。这种模式表明你可能需要适当休息和调整工作节奏。</p>
            </div>
        </div>

        <!-- 建议 -->
        <div class="emotion-card">
            <h2 class="emotion-title">个性化建议</h2>
            <ul class="text-sm space-y-3">
                <li class="flex">
                    <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                    <div>
                        <strong>工作管理</strong>
                        <p class="text-gray-600">尝试番茄工作法，每25分钟工作后休息5分钟，提高效率减轻疲惫感。</p>
                    </div>
                </li>
                <li class="flex">
                    <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                    <div>
                        <strong>压力缓解</strong>
                        <p class="text-gray-600">练习深呼吸或简短冥想（5-10分钟），帮助缓解压力和焦虑。</p>
                    </div>
                </li>
                <li class="flex">
                    <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                    <div>
                        <strong>沟通策略</strong>
                        <p class="text-gray-600">与同事或领导进行坦诚沟通，表达你的工作负荷情况，寻求支持或调整。</p>
                    </div>
                </li>
                <li class="flex">
                    <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                    <div>
                        <strong>自我关爱</strong>
                        <p class="text-gray-600">确保充足睡眠，安排短暂但有质量的休闲活动，如散步、听音乐或与朋友聊天。</p>
                    </div>
                </li>
            </ul>
        </div>

        <!-- 历史对比 -->
        <div class="emotion-card">
            <h2 class="emotion-title flex justify-between items-center">
                <span>情绪历史对比</span>
                <a href="emotion-history.html" class="text-sm text-indigo-500">查看更多</a>
            </h2>
            <div class="emotion-chart mb-4">
                <canvas id="historyChart"></canvas>
            </div>
            
            <div class="text-sm text-gray-600">
                <p>与过去一周相比，你的疲惫感有所增加，而压力水平保持相对稳定。建议关注这一趋势，避免疲惫感进一步加剧。</p>
            </div>
        </div>
    </div>

    <!-- iOS 底部导航栏 -->
    <div class="ios-tab-bar">
        <a href="home.html" class="tab-item">
            <div class="tab-icon"><i class="fas fa-home"></i></div>
            <div class="tab-label">首页</div>
        </a>
        <a href="daily-report.html" class="tab-item">
            <div class="tab-icon"><i class="fas fa-calendar-day"></i></div>
            <div class="tab-label">心情报告</div>
        </a>
        <a href="profile.html" class="tab-item">
            <div class="tab-icon"><i class="fas fa-user"></i></div>
            <div class="tab-label">我的</div>
        </a>
    </div>

    <script>
        // 页面加载完成后初始化图表
        window.onload = function() {
            // 情绪波动图表
            const emotionCtx = document.getElementById('emotionChart').getContext('2d');
            const emotionChart = new Chart(emotionCtx, {
                type: 'line',
                data: {
                    labels: ['9:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00'],
                    datasets: [{
                        label: '情绪波动',
                        data: [65, 60, 70, 55, 62, 75, 70],
                        borderColor: '#5e72e4',
                        backgroundColor: 'rgba(94, 114, 228, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 40,
                            max: 100
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
            
            // 情绪维度雷达图
            const radarCtx = document.getElementById('radarChart').getContext('2d');
            const radarChart = new Chart(radarCtx, {
                type: 'radar',
                data: {
                    labels: ['压力', '焦虑', '疲惫', '积极性', '满足感', '专注度'],
                    datasets: [{
                        label: '当前状态',
                        data: [80, 65, 75, 40, 35, 60],
                        backgroundColor: 'rgba(94, 114, 228, 0.2)',
                        borderColor: '#5e72e4',
                        pointBackgroundColor: '#5e72e4'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: {
                                display: true
                            },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    }
                }
            });
            
            // 历史对比图表
            const historyCtx = document.getElementById('historyChart').getContext('2d');
            const historyChart = new Chart(historyCtx, {
                type: 'bar',
                data: {
                    labels: ['一周前', '三天前', '昨天', '今天'],
                    datasets: [
                        {
                            label: '疲惫',
                            data: [60, 65, 70, 75],
                            backgroundColor: '#ffc107'
                        },
                        {
                            label: '压力',
                            data: [70, 75, 72, 70],
                            backgroundColor: '#f56565'
                        },
                        {
                            label: '担忧',
                            data: [50, 55, 60, 65],
                            backgroundColor: '#4299e1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 0,
                            max: 100
                        }
                    }
                }
            });
        };
    </script>
</body>
</html>
