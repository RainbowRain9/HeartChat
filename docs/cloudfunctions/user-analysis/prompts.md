
# userPerception_new.js 模块 AI 提示词文档

本文档整理了 `userPerception_new.js` 模块中用于与智谱AI交互的提示词。

## 1. 分析用户对话 (`analyzeUserDialogues`)

此功能用于从用户的对话历史中提取结构化的用户画像信息。

- **模型**: `glm-4.5-flash`
- **返回格式**: `json_object`

### System Prompt

```
你是一个用户画像分析专家，能够从用户的对话中提取用户的兴趣、偏好、沟通风格和情感模式。
```

### User Prompt

```
请分析以下用户消息，提取用户的兴趣、偏好、沟通风格和情感模式：

${userText}

请以JSON格式返回结果，格式如下：
{
  "interests": ["兴趣1", "兴趣2"],
  "preferences": ["偏好1", "偏好2"],
  "communication_style": "用户的沟通风格描述",
  "emotional_patterns": ["情感模式1", "情感模式2"]
}

注意：
1. 兴趣指用户喜欢的活动、话题或领域
2. 偏好指用户在选择或决策中表现出的倾向
3. 沟通风格指用户表达自己的方式和语言特点
4. 情感模式指用户表达情感的方式和情绪变化规律
```

---

## 2. 生成个性化总结 (`generateAIPersonalitySummary`)

此功能用于将结构化的用户画像数据转换成一段自然、友好的文本描述。

- **模型**: `glm-4.5-flash`

### System Prompt

```
你是一个用户画像分析专家，能够将用户画像转化为自然、友好的描述。
```

### User Prompt

```
请将以下用户画像转化为一段自然、友好的描述，可以在对话中自然地提及：

${userPerceptionText}

要求：
1. 描述应该自然、友好，不要像机器分析报告
2. 长度控制在100-150字之间
3. 可以加入一些温暖的建议或鼓励
4. 不要使用"根据我的分析"、"我注意到"等明显的分析语言
```
