# 新角色编辑页面使用文档

## 功能概述

新角色编辑页面是一个专门用于创建和编辑自定义角色的界面，遵循iOS设计规范，提供了直观的分步表单，帮助用户轻松创建高度个性化的角色。通过这个页面，用户可以自定义角色的基本信息、详细背景和性格特点，实现对真实人物的模拟。

## 页面特点

- **iOS风格设计**：卡片式布局、圆角元素和适当的投影效果，确保视觉体验现代简洁
- **分步表单**：将角色创建过程分为三个步骤，引导用户完成所有设置
- **实时预览**：提供提示词预览功能，让用户了解生成的效果
- **自定义选项**：支持自定义角色的各种属性，包括基本信息、详细背景和性格特点

## 访问方式

1. **创建新角色**：在角色选择页面点击"创建新角色"按钮
2. **编辑现有角色**：在角色选择页面长按角色卡片，选择"编辑角色"

## 使用步骤

### 第一步：基本信息

在这一步，您需要设置角色的基本信息：

- **头像**：点击头像区域可以上传自定义头像，支持从相册选择或拍照
- **角色名称**（必填）：输入角色的名称，例如"小明"、"妈妈"等
- **与您的关系**（必填）：选择角色与您的关系，例如"朋友"、"父母"、"恋人"等
- **角色分类**（可选）：选择角色的分类，如"情感支持"、"心理咨询"、"生活伙伴"、"职场导师"等，系统会根据您选择的关系自动推荐对应的分类
- **年龄**（可选）：设置角色的年龄
- **性别**（可选）：选择角色的性别（男/女/其他）

填写完成后，点击"下一步"按钮进入第二步。

### 第二步：详细背景

在这一步，您可以设置角色的详细背景信息：

- **职业**（可选）：输入角色的职业，例如"教师"、"医生"等
- **教育背景**（可选）：描述角色的教育经历，例如"北京大学心理学博士"
- **爱好**（可选）：列出角色的爱好，用逗号分隔，例如"阅读,旅行,摄影"
- **生活经历**（可选）：描述角色的生活经历和背景故事，让对话更有代入感

填写完成后，点击"下一步"按钮进入第三步。

### 第三步：性格特点

在这一步，您可以设置角色的性格特点和交流方式：

- **性格特点**（可选）：描述角色的性格特点，用逗号分隔，例如"开朗,善良,耐心"
- **说话风格**（可选）：描述角色说话的特点，例如"温和有礼"、"幽默风趣"等
- **情感倾向**（可选）：设置角色的情感倾向，例如"乐观"、"悲观"、"理性"、"感性"等
- **禁忌话题**（可选）：设置不想与角色讨论的话题
- **提示词模板**（可选）：自定义提示词模板，留空则自动生成

填写完成后，您可以点击"预览提示词"按钮查看生成的提示词效果。

### 保存角色

您可以通过以下两种方式保存角色：

1. 在预览提示词弹窗中点击"保存角色"按钮
2. 点击页面顶部导航栏的"保存"按钮

## 字段说明

### 基本信息

| 字段 | 说明 | 是否必填 |
|------|------|----------|
| 角色名称 | 角色的称呼 | 是 |
| 与您的关系 | 角色与用户的关系类型 | 是 |
| 角色分类 | 角色的功能分类（情感支持/心理咨询/生活伙伴/职场导师） | 否 |
| 年龄 | 角色的年龄 | 否 |
| 性别 | 角色的性别 | 否 |

### 详细背景

| 字段 | 说明 | 是否必填 |
|------|------|----------|
| 职业 | 角色的职业或工作 | 否 |
| 教育背景 | 角色的教育经历 | 否 |
| 爱好 | 角色的兴趣爱好，用逗号分隔 | 否 |
| 生活经历 | 角色的生活经历和背景故事 | 否 |

### 性格特点

| 字段 | 说明 | 是否必填 |
|------|------|----------|
| 性格特点 | 角色的性格特点，用逗号分隔 | 否 |
| 说话风格 | 角色说话的特点和方式 | 否 |
| 情感倾向 | 角色的情感表达倾向 | 否 |
| 禁忌话题 | 不想与角色讨论的话题 | 否 |
| 提示词模板 | 自定义提示词模板，留空则自动生成 | 否 |

## 关系与分类的映射

为了简化用户创建角色的流程，系统会根据您选择的"与用户的关系"自动推荐对应的"角色分类"：

| 关系类型 | 默认分类 |
|---------|---------|
| 家人 | 生活伙伴（life） |
| 情侣 | 情感支持（emotion） |
| 朋友 | 生活伙伴（life） |
| 老师 | 心理咨询（psychology） |
| 同事 | 职场导师（career） |
| 心理咨询师 | 心理咨询（psychology） |
| 职业导师 | 职场导师（career） |
| 情感顾问 | 情感支持（emotion） |
| 其他 | 生活伙伴（life） |

您可以接受系统推荐的分类，也可以根据需要修改为其他分类。如果您未选择分类，系统会在保存时根据关系自动设置默认分类。

## 提示词模板变量

如果您选择自定义提示词模板，可以使用以下变量：

| 变量 | 说明 |
|------|------|
| {{name}} | 角色名称 |
| {{relationship}} | 与用户的关系 |
| {{category}} | 角色分类 |
| {{age}} | 角色年龄 |
| {{gender}} | 角色性别 |
| {{occupation}} | 角色职业 |
| {{education}} | 教育背景 |
| {{hobbies}} | 角色爱好 |
| {{personality_traits}} | 性格特点 |
| {{communication_style}} | 说话风格 |
| {{emotional_tendency}} | 情感倾向 |
| {{background}} | 生活经历 |

例如，您可以创建如下模板：

```
你是{{name}}，作为我的{{relationship}}。你是一个{{age}}岁的{{gender}}，职业是{{occupation}}。
你的性格特点是{{personality_traits}}，说话风格是{{communication_style}}。
你的爱好包括{{hobbies}}。
你的背景故事：{{background}}

请以符合你角色设定的方式与我对话。在适当的时候，你可以安慰我或给我建议。
```

## 注意事项

1. **必填字段**：角色名称和与您的关系是必填项，其他字段为可选
2. **头像上传**：头像会上传到云存储，请确保图片大小适中
3. **字段长度**：各字段有字数限制，请简明扼要地描述
4. **提示词生成**：
   - 如果您留空提示词模板，系统会根据您填写的信息自动生成提示词
   - 如果您自定义提示词模板，系统会使用您的模板，替换其中的变量
5. **保存时间**：创建或编辑角色可能需要几秒钟时间，请耐心等待

## 常见问题

### 1. 为什么我无法保存角色？

请检查是否填写了必填字段（角色名称和与您的关系）。如果仍然无法保存，可能是网络问题或服务器繁忙，请稍后再试。

### 2. 头像上传失败怎么办？

头像上传失败可能是因为图片太大或网络问题。请尝试选择较小的图片或确保网络连接稳定。

### 3. 如何删除已创建的角色？

在角色选择页面长按角色卡片，选择"删除角色"即可。

### 4. 提示词预览与实际对话有什么区别？

提示词预览显示的是发送给AI的指令，实际对话中AI会根据这些指令生成回复，但不会直接显示提示词内容。

### 5. 我可以创建多少个自定义角色？

目前没有严格限制，但建议控制在10个以内，以确保最佳性能。

### 6. 如何选择合适的角色分类？

系统会根据您选择的"与用户的关系"自动推荐对应的分类。如果您不确定，可以保留系统推荐的分类，或者根据角色的主要功能选择最接近的分类。

## 技术支持

如果您在使用过程中遇到任何问题，或有任何建议和反馈，请通过以下方式联系我们：

- 在应用内的"反馈"页面提交问题
- 发送邮件至：support@heartchat.com

我们会尽快回复并解决您的问题。
