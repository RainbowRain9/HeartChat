# HeartChat流程图总览

本文档提供了HeartChat项目所有流程图的总览和索引，方便查阅和理解项目的各个方面。

## 流程图目录

1. [功能实现流程图](#1-功能实现流程图)
2. [数据流向图](#2-数据流向图)
3. [系统架构图](#3-系统架构图)
4. [数据库结构图](#4-数据库结构图)
5. [用户界面流程图](#5-用户界面流程图)
6. [技术实现流程图](#6-技术实现流程图)
7. [项目开发进度图](#7-项目开发进度图)
8. [外部API调用流程图](#8-外部api调用流程图)

## 1. 功能实现流程图

[查看详细文档](HeartChat功能实现流程图.md)

功能实现流程图展示了HeartChat项目各个核心功能的实现流程，包括云函数、API调用和数据流向之间的关系。主要包含以下流程图：

- 用户登录与认证流程
- 聊天系统实现流程
- 情感分析系统实现流程
- 角色管理系统实现流程
- 用户画像系统实现流程
- 情绪历史与报告系统实现流程

## 2. 数据流向图

[查看详细文档](HeartChat数据流向图.md)

数据流向图展示了HeartChat项目中各个功能模块之间的数据流向和交互关系。主要包含以下流程图：

- 整体数据流向图
- 用户登录数据流
- 聊天系统数据流
- 情感分析数据流
- 用户画像数据流
- 情绪历史数据流
- 每日报告数据流

## 3. 系统架构图

[查看详细文档](HeartChat系统架构图.md)

系统架构图展示了HeartChat项目的系统架构，包括前端、后端、数据库和外部服务的组织结构。主要包含以下流程图：

- 整体系统架构
- 详细系统架构
- 微信小程序分包结构

## 4. 数据库结构图

[查看详细文档](HeartChat数据库结构图.md)

数据库结构图展示了HeartChat项目的数据库结构，包括各个集合的字段和关系。主要包含以下流程图：

- 数据库集合关系图
- 用户相关集合详细结构
- 角色相关集合详细结构
- 聊天相关集合详细结构
- 情感相关集合详细结构
- 报告相关集合详细结构
- 数据库索引结构

## 5. 用户界面流程图

[查看详细文档](HeartChat用户界面流程图.md)

用户界面流程图展示了HeartChat项目的用户界面流程，包括页面跳转和用户交互流程。主要包含以下流程图：

- 整体用户界面流程
- 登录与授权流程
- 首页交互流程
- 聊天界面交互流程
- 情绪分析交互流程
- 情绪历史交互流程
- 用户中心交互流程
- 暗黑模式切换流程
- 角色选择与创建流程

## 6. 技术实现流程图

[查看详细文档](HeartChat技术实现流程图.md)

技术实现流程图展示了HeartChat项目的核心技术实现流程，包括AI调用、情感分析、用户画像生成等关键技术流程。主要包含以下流程图：

- AI对话生成流程
- 情感分析实现流程
- 用户画像生成流程
- 关键词分类与聚类流程
- 情绪波动指数计算流程
- 每日情绪报告生成流程
- 暗黑模式实现流程
- 本地缓存管理流程
- 分包加载实现流程

## 7. 项目开发进度图

[查看详细文档](HeartChat项目开发进度图.md)

项目开发进度图展示了HeartChat项目的开发进度和未来规划。主要包含以下流程图：

- 项目开发时间线
- 功能完成度统计
- 各模块完成度
- 项目里程碑
- 开发优先级矩阵
- 未来开发计划（短期、中期、长期）

## 8. 外部API调用流程图

[查看详细文档](HeartChat外部API调用流程图.md)

外部API调用流程图展示了HeartChat项目中外部API的调用流程，特别是智谱AI API的调用过程。主要包含以下流程图：

- 智谱AI GLM-4-Flash API调用流程
- 聊天功能API调用详细流程
- 情感分析API调用流程
- 用户画像生成API调用流程
- 角色提示词生成API调用流程
- 每日报告生成API调用流程
- API调用错误处理流程
- API密钥管理流程
- 智谱AI API参数配置
- 智谱AI Embedding API调用流程

## 如何使用这些流程图

这些流程图可以帮助开发团队和新加入的开发者快速理解HeartChat项目的各个方面：

1. **项目概览**：通过系统架构图和数据流向图了解整个项目的结构和数据流动方式
2. **功能实现**：通过功能实现流程图和技术实现流程图了解各个功能的实现方式
3. **数据结构**：通过数据库结构图了解项目的数据模型和关系
4. **用户体验**：通过用户界面流程图了解用户交互流程和页面跳转逻辑
5. **开发规划**：通过项目开发进度图了解项目的当前状态和未来规划
6. **API集成**：通过外部API调用流程图了解项目如何与外部服务集成

## 流程图更新维护

这些流程图应该随着项目的发展而更新，建议在以下情况下更新相应的流程图：

1. 添加新功能或修改现有功能时
2. 调整数据模型或数据库结构时
3. 优化用户界面或交互流程时
4. 调整系统架构或技术实现方式时
5. 更新项目规划或调整开发进度时

流程图的更新应该由负责相应模块的开发者进行，并在团队内部进行评审，确保流程图准确反映项目的当前状态。
